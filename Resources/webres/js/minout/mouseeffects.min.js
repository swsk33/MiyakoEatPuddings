const dotColors=["#ff0f26","#ff7d0f","#ffe72e","#b2ff2e","#3cff2e","#2effd3","#0700ff","#c000ff"];let isDropDotExists=!1;function getRandomDot(){let dot=document.createElement("div"),color=dotColors[genRandom(0,dotColors.length-1)];return dot.style.position="absolute",dot.style.width="3px",dot.style.height="3px",dot.style.borderRadius="50%",dot.style.backgroundColor=color,dot.style.boxShadow="0px 0px 3px 3px "+color,dot}function genDropDot(){if(!isDropDotExists){let mx=window.event.pageX,my=window.event.pageY,dropDot=getRandomDot();dropDot.style.left=mx+"px",dropDot.style.top=my+"px",document.querySelector("body").appendChild(dropDot),isDropDotExists=!0;let addition=.05,dotMove=setInterval((function(){my+=addition,dropDot.style.top=my+"px",addition+=.1,(addition>5||my+5>=gameTopBar.offsetHeight+gameBackground.offsetHeight||mx+5>=gameBackground.offsetWidth)&&(clearInterval(dotMove),dropDot.remove())}),16);setTimeout((function(){isDropDotExists=!1}),200)}}function genRandomLine(){let color=dotColors[genRandom(0,dotColors.length-1)],line=document.createElement("div");return line.style.position="absolute",line.style.width="1.5px",line.style.height="2px",line.style.backgroundColor=color,line}function genDivergenceLine(){let count=genRandom(15,24);for(let i=0;i<count;i++){let lineDeg=genRandom(1,360),line=genRandomLine(),length=line.offsetHeight,offsetX=Math.sin(lineDeg/180*Math.PI)*(length/2),offsetY=Math.cos(lineDeg/180*Math.PI)*(length/2),mx=window.event.pageX,my=window.event.pageY,initX=mx+offsetX,initY=my+offsetY;line.style.transform="rotate("+lineDeg+"deg)",line.style.left=initX+"px",line.style.top=initY+"px",document.querySelector("body").appendChild(line);let moveAddition=1,lengthAddition=1,keyFrame=1,totalFrame=genRandom(18,30),lineMove=setInterval((function(){let signX=1,signY=1,signLength=1;signX=1,signY=-1,keyFrame>totalFrame/2&&(signLength=-1),initX+=signX*Math.sin(lineDeg/180*Math.PI)*moveAddition,initY+=signY*Math.cos(lineDeg/180*Math.PI)*moveAddition,length+=signLength*lengthAddition,line.style.left=initX+"px",line.style.top=initY+"px",line.style.height=length+"px",keyFrame++,(keyFrame>totalFrame||initX+10>=gameBackground.offsetWidth||initY+10>=gameTopBar.offsetHeight+gameBackground.offsetHeight)&&(line.remove(),clearInterval(lineMove))}),16)}}function mouseMoveDropDotControl(isOpen){isOpen?document.addEventListener("mousemove",genDropDot):document.removeEventListener("mousemove",genDropDot)}function mouseClickLineControl(isOpen){isOpen?document.addEventListener("click",genDivergenceLine):document.removeEventListener("click",genDivergenceLine)}
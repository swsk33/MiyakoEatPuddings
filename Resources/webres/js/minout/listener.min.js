window.addEventListener("keydown",(function(e){38!=e.keyCode&&87!=e.keyCode||isPaused||up(miyakoMoveRatio),40!=e.keyCode&&83!=e.keyCode||isPaused||down(miyakoMoveRatio),32!=e.keyCode||isPaused||fire(weaponList[currentWeaponIndex]),69==e.keyCode&&(currentWeaponIndex++,currentWeaponIndex>=weaponList.length&&(currentWeaponIndex=0),refreshDom()),81==e.keyCode&&(currentWeaponIndex--,currentWeaponIndex<0&&(currentWeaponIndex=weaponList.length-1),refreshDom()),90==e.keyCode&&(currentPropsIndex--,currentPropsIndex<0&&(currentPropsIndex=propsList.length-1),refreshDom()),67==e.keyCode&&(currentPropsIndex++,currentPropsIndex>=propsList.length&&(currentPropsIndex=0),refreshDom()),86==e.keyCode&&(propsCount[currentPropsIndex]<=0||(document.querySelector(propsList[currentPropsIndex].soundClassName).play(),propsList[currentPropsIndex].effect(miyako,puddingArray),propsCount[currentPropsIndex]--,refreshDom())),80==e.keyCode&&(isPaused?(startGameProcess(),isPaused=!1,operatePausePage(!1)):(stopGameProcess(),isPaused=!0,operatePausePage(!0)))})),startPageBtn[1].addEventListener("click",(function(){resetData(),saveData(),clearBullets(),document.querySelector(".startAudio").play(),operateStartPage(!1),initializePuddings(),startGameProcess()})),startPageBtn[2].addEventListener("click",(function(){operateShopPage(!0)})),startPageBtn[3].addEventListener("click",(function(){opreateHelpPage(!0)}));let succeedPageBtn=document.querySelector(".succeed ul").children;succeedPageBtn[0].addEventListener("click",(function(){clearBullets(),operateSuccessPage(!1),initializePuddings(),startGameProcess()})),succeedPageBtn[1].addEventListener("click",(function(){operateSuccessPage(!1),operateStartPage(!0)}));let failedPageBtn=document.querySelector(".failed ul").children;failedPageBtn[0].addEventListener("click",(function(){resetData(),saveData(),clearBullets(),opreateFailedPage(!1),initializePuddings(),startGameProcess()})),failedPageBtn[1].addEventListener("click",(function(){opreateFailedPage(!1),operateStartPage(!0)})),helpPage.children[0].lastElementChild.addEventListener("click",()=>{opreateHelpPage(!1)});let shopBtn=shopPage.children[0].lastElementChild;shopBtn.children[0].addEventListener("click",()=>{buyItems()}),shopBtn.children[1].addEventListener("click",()=>{totalPrice=0,eachPropsSelectCount=[],eachWeaponSelectedCount=[],totalDOM.innerText="共消耗0积分",operateShopPage(!1)});